{% extends "base.html" %}

{% block title %}Nuevo Pedido{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pedidos/pedidos_crear.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <h1><i class="fas fa-plus-circle"></i> Crear Nuevo Pedido</h1>

    <form id="form-crear-pedido">
        <div class="form-group">
            <label for="cliente_id">Cliente:</label>
            <select id="cliente_id" name="cliente_id">
                <option value="">Seleccione un cliente</option>
            </select>
        </div>

        <div class="form-group">
            <label for="fecha_entrega">Fecha de entrega:</label>
            <input type="date" id="fecha_entrega" name="fecha_entrega">
        </div>

        <div id="productos-container">
            <!-- JS insertará aquí filas de productos -->
        </div>

        <button type="button" id="agregar-producto">Agregar producto</button>

        <div class="form-group">
            <strong>Total: <span id="total">$0.00</span></strong>
        </div>

        <div class="btn-group">
            <button type="submit" class="btn-submit">Crear Pedido</button>
            <a href="{{ url_for('pedidos.listar') }}" class="btn-cancelar">Cancelar</a>
        </div>
    </form>

</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/pedidos/pedidos_crear.js') }}"></script>
{% endblock %}